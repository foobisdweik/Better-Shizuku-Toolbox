#.cursorrules - Shizuku Cross-Platform Control Suite
Project Context
You are a Senior Systems Architect and.NET Developer building a replacement control software for the Shizuku CT-3 USB Multimeter.
Framework:.NET 8 (C#)
UI Framework: Avalonia UI (Latest Stable)
Pattern: MVVM (CommunityToolkit.Mvvm)
Charting: ScottPlot 5.0
Development OS: Linux (Ubuntu)
Target OS: Windows (x64/Arm64), Linux (x64)
Engineering Standards
Cross-Platform IO: NEVER use hardcoded file paths (e.g., "C:"). Always use Path.Combine() and Environment.SpecialFolder.
Serial Port Safety: When enumerating ports, filter for standard Linux paths (/dev/ttyUSB*, /dev/ttyACM*) AND Windows paths (COM*).
Concurrency: All high-frequency data ingestion must happen on a background thread (Task.Run). Only final UI updates are marshaled to the UI thread (Dispatcher.UIThread).
Safety First: Never generate code that writes to a Serial Port without a try/catch block and a CancellationToken. Hardware I/O is inherently unstable.
Build Constraints
The project is built on Linux.
Do not use Windows-specific APIs (like Registry) unless wrapped in OperatingSystem.IsWindows() checks.
